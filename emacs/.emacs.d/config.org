* Gui modifications
** Encoding
#+BEGIN_SRC emacs-lisp
(prefer-coding-system 'utf-8)
#+END_SRC
** y/n instead of yes and no
#+BEGIN_SRC emacs-lisp

(defalias 'yes-or-no-p 'y-or-n-p)

#+END_SRC
** Line and Coulmn Numbering

   #+BEGIN_SRC emacs-lisp
;; enable relative line numbering and column numbering
(linum-relative-global-mode 1)
(setq linum-relative-current-symbol "")
(column-number-mode 1)
   #+END_SRC

** Powerline 

   #+BEGIN_SRC emacs-lisp
;; enable global visual line mo
(global-visual-line-mode t)

;; use powerline
(use-package powerline
             :ensure t)

   #+END_SRC

** Toolbars

   #+BEGIN_SRC emacs-lisp
;; disable toolbar
(tool-bar-mode -1)

;; disable menubar
(menu-bar-mode -1)

;; disable scroll-bar
(scroll-bar-mode -1)

   #+END_SRC

** C/C++ style 

   #+BEGIN_SRC emacs-lisp
;; set c/c++ default indent to 8
(setq c-default-style "linux")
   #+END_SRC

** Splash Screen

   #+BEGIN_SRC emacs-lisp
  ;; stop the splash screen in
  (setq inhibit-splash-screen t)
   #+END_SRC

** TABS 

   #+BEGIN_SRC emacs-lisp
;; tab-width

(setq-default indent-tabs-mode nil)
(setq tab-width 4)
   #+END_SRC

** Scrolling

#+begin_src emacs-lisp

;; scroll one line at a time (less "jumpy" than defaults)

(setq mouse-wheel-scroll-amount '(1 ((shift) . 1))) ;; one line at a time

(setq mouse-wheel-progressive-speed nil) ;; don't accelerate scrolling

(setq mouse-wheel-follow-mouse 't) ;; scroll window under mouse

(setq scroll-step           1)

(setq scroll-conservatively 10000)



#+end_src
** Parens

   #+BEGIN_SRC emacs-lisp
  ;; SMART PARENS ;;;;
  (smartparens-global-mode 1)
  (add-hook 'smartparens-enabled-hook #'evil-smartparens-mode)
  (show-paren-mode t)
  (setq show-paren-style 'mixed)
  

  (dolist (hook '(emacs-lisp-mode-hook
                 lisp-mode-hook scheme-mode-hook)))
  (add-hook 'smartparens-enabled-hook 'evil-smartparens-mode)

  (with-eval-after-load 'smartparens
     (require 'smartparens-config))


   #+END_SRC

* Packages
** Company Terraform
#+BEGIN_SRC emacs-lisp

(require 'company-terraform)
(company-terraform-init)

#+END_SRC
** Autocomplete

#+BEGIN_SRC emacs-lisp

(auto-complete-mode 1)

#+END_SRC
** HELM

   #+BEGIN_SRC emacs-lisp

;; enabling async
(add-to-list 'load-path "/home/sohom/.emacs.d/packages/async")

;; enabling the helm package
(add-to-list 'load-path "/home/sohom/.emacs.d/packages/helm")
(require 'helm-config)

;; this will run the helm version of every command typed mith M-x
(global-set-key (kbd "M-x") #'helm-M-x)
(global-set-key (kbd "C-x C-f")  #'helm-find-files)
(global-set-key (kbd "C-x b") #'helm-mini)
(global-set-key (kbd "M-s o") #'helm-swoop)

(define-key isearch-mode-map (kbd "M-s o") 'helm-swoop-from-isearch)

(helm-mode 1)

   #+END_SRC

** org mode

   #+BEGIN_SRC emacs-lisp

(require 'org)

;; set a time-stamp when todo state changes
(setq org-log-done 'time)

;; set a time for repeating tasks
(setq org-log-repeat 'time)

;; added custom states for todo list
(setq org-todo-keywords '((sequence "TODO(t)" "|" "DONE(d)")
                          (sequence "|" "CANCEL(c)")
                          (sequence "|" "SKIP(k)")
                          (sequence "STARTED(s)" "|")
                          (sequence "PAUSED(d)" "|")
                          (sequence "WAITING(w)" "|" )))

;; added color for custom states
(setq org-todo-keyword-faces
      (quote (("CANCEL" :foreground "red" :weight bold)
              ("SKIP" :foreground "blue" :weight bold)
              ("DONE" :foreground "green" :weight bold)
              ("WAITING" :foreground "yellow")
              ("PAUSED" :foreground "yellow")
              ("STARTED" :foreground "orange" :weight bold))))


;; do a separate add-to-list to add new file extentions
;; put default mode for specific files
(add-to-list 'auto-mode-alist
             '("\\.note" . org-mode))


;; default directory to save org mode capture files
(setq org-directory "/home/sohom/work_space/.personal/todo/")
(setq org-default-notes-file (concat org-directory "/TODO.org"))
(define-key global-map "\C-cc" 'org-capture)

;; capture templates
(setq org-capture-templates
      '(("t" "Todo" entry (file+headline "~/work_space/.personal/todo/TODO.org" "TASKS")
         "* TODO %^{PROMPT|Title} \n*** Description %i\n %? \n*** Research & Notes \n*** Sub-Tasks [/]")
        
        ("b" "Blog" entry (file+headline "~/work_space/.personal/todo/TODO.org" "BLOG")
         "* TODO %^{PROMPT|Title} \n*** Description %i\n %? \n*** Research & Notes \n*** Sub-Tasks [/]")
        

        ;;  multi layersed for reading
        ("r" "Reading")
        ("rb" "Books" entry (file+headline "~/work_space/.personal/personal-reading/reading.org" "Non CS")
         "* TODO %?\n  %i\n - Context :: %^{PROMPT|where did you come across this}")
        ("rp" "Papers" entry (file+headline "~/work_space/.personal/personal-reading/reading.org" "Papers")
         "* TODO %?\n  %i\n  %a")
        ("rw" "Web" entry (file+headline "~/work_space/.personal/personal-reading/reading.org" "Web")
         "* TODO %?  %i\n \n - Context :: %^{PROMPT|what does the article say}")
        ("rm" "Misc" entry (file+headline "~/work_space/.personal/personal-reading/reading.org" "Kitchen Sink")
         "* TODO %?\n  %i\n - Context :: %^{PROMPT|details of the entry}")


        
        ;; multi layered for work
        ("w" "Work @ Shaadi" entry (file+headline "~/work_space/shaadi/todo/todo.org" "Todo")
         "* TODO %^{PROMPT|Title}n %^g \n*** Description %i\n %? \n*** Research & Notes \n*** Sub-Tasks [/]")
        
        ;; add file to knowledge index
        ("i" "Add File to Index" item (file+headline "~/work_space/.personal/knowledgebase/README.org" "Kitchen Sink")
         "- %A :: %^{PROMPT|Desccribe this entry for index :-> } ")
        ))

;; TODO file
(global-set-key (kbd "<f12>") (lambda() (interactive)(find-file "/home/sohom/work_space/.personal/todo/dash.org")))


;; agenda file 
(add-to-list 'org-agenda-files "/home/sohom/work_space/.personal/todo/TODO.org")
(add-to-list 'org-agenda-files "/home/sohom/work_space/shaadi/todo/todo.org")
(global-set-key "\C-ca" 'org-agenda)

(setq org-agenda-use-time-grid t)

;; org refile
(custom-set-variables '(org-refile-targets (quote (("todoArchive.org" :maxlevel . 1)))))
   #+END_SRC

This is just a reference for multi-layered capture templates

 (setq org-capture-templates `(("n" "notes")
                            ("nh" "Home" entry (file+headline ,notes-path "home"))
                            ("np" "Personal" entry (file+headline ,notes-path  "personal" ))
                            ...

*** ORG Capture Globally

    #+BEGIN_SRC emacs-lisp
(defadvice org-capture-finalize
  (after delete-capture-frame activate)
   "Advise capture-finalize to close the frame"
   (if (equal "capture" (frame-parameter nil 'name))
       (delete-frame)))

(defadvice org-capture-destroy
 (after delete-capture-frame activate)
  "Advise capture-destroy to close the frame"
  (if (equal "capture" (frame-parameter nil 'name))
      (delete-frame)))

 ;; make the frame contain a single window. by default org-capture
 ;; splits the window
(add-hook 'org-capture-mode-hook
          'delete-other-windows)

 (defun make-capture-frame ()
   "Create a new frame and run org-capture."
   (interactive)
   (make-frame '((name . "capture")
                 (width . 120)
                 (height . 15)))
   (select-frame-by-name "capture")
   (setq word-wrap 1)
   (setq truncate-lines nil)
   (org-capture))
    #+END_SRC

    #+RESULTS:
    : make-capture-frame

** Elpy
   #+BEGIN_SRC emacs-lisp
(elpy-enable)
   #+END_SRC
** server mode
   #+BEGIN_SRC emacs-lisp
;;server mode start
(server-mode 1)
   #+END_SRC

** Anzu
   #+BEGIN_SRC emacs-lisp

(require 'anzu)
(global-anzu-mode +1)

(set-face-attribute 'anzu-mode-line nil
                    :foreground "yellow" :weight 'bold)

(custom-set-variables
 '(anzu-mode-lighter "")
 '(anzu-deactivate-region t)
 '(anzu-search-threshold 1000)
 '(anzu-replace-threshold 50)
 '(anzu-replace-to-string-separator " => "))


(global-set-key (kbd "M-%") 'anzu-query-replace)
(global-set-key (kbd "C-M-%") 'anzu-query-replace-regexp)

   #+END_SRC

** Latex
   #+BEGIN_SRC emacs-lisp

;; bigger latex fragment
(plist-put org-format-latex-options :scale 2.0)

(setq org-export-with-email t)

   #+END_SRC
** magit
   #+BEGIN_SRC emacs-lisp

(global-set-key (kbd "C-x g") #'magit-status)

   #+END_SRC
** Company 

   #+BEGIN_SRC emacs-lisp
(add-hook 'after-init-hook 'global-company-mode)
   #+END_SRC
   
** Markdown Mode

   #+BEGIN_SRC emacs-lisp
(use-package markdown-mode
  :ensure t
  :commands (markdown-mode gfm-mode)
  :mode (("README\\.md\\'" . gfm-mode)
         ("\\.md\\'" . markdown-mode)
         ("\\.markdown\\'" . markdown-mode))
  :init
  (setq markdown-command "markdown_py"))
   #+END_SRC

** Babel
   #+BEGIN_SRC emacs-lisp
(org-babel-do-load-languages
 'org-babel-load-languages
 '((ruby . t)
   (scheme . t)
   (python . t)
   ))

   #+END_SRC

** YAML
#+BEGIN_SRC emacs-lisp

(use-package yaml-mode
     :ensure t)

(add-to-list 'auto-mode-alist '("\\.yml\\'" . yaml-mode))

#+END_SRC
** Dumb-Jump
#+BEGIN_SRC emacs-lisp

(dumb-jump-mode 1)

#+END_SRC 
** Helm-ag
configure helm-ag to use rippgrep
#+BEGIN_SRC emacs-lisp
(custom-set-variables
 '(helm-ag-base-command "rg --no-heading"))

#+END_SRC 
** Windmove 
This thing lets you move between windows in a frame with meta+direction keys

#+BEGIN_SRC emacs-lisp
;;(windmove-default-keybindings 'meta 'control)

(global-set-key (kbd "C-M-<left>")  'windmove-left)
(global-set-key (kbd "C-M-<right>") 'windmove-right)
(global-set-key (kbd "C-M-<up>")    'windmove-up)
(global-set-key (kbd "C-M-<down>")  'windmove-down)




#+END_SRC
** GO
#+BEGIN_SRC emacs-lisp
;; set GOPATH
(setenv "GOPATH" "/home/sohomb/work_space/go")

;; set exec path to find go binaries
(add-to-list 'exec-path "/home/sohomb/work_space/go/bin")

;; add gofmt hook
(add-hook 'before-save-hook 'gofmt-before-save)

;; go autocomplete mode
(with-eval-after-load 'go-mode
    (require 'go-autocomplete))

#+END_SRC

** Projectile Mode
#+begin_src emacs-lisp

(projectile-global-mode)

(setq projectile-completion-system 'alien)

(projectile-mode +1)

(define-key projectile-mode-map (kbd "s-p") 'projectile-command-map)

(define-key projectile-mode-map (kbd "C-c p") 'projectile-command-map)

(helm-projectile-on)

(setq helm-follow-mode-persistent t)
#+end_src

* MISC 
** Always follow symlinks

#+BEGIN_SRC emacs-lisp
(setq vc-follow-symlinks t)

#+END_SRC
** Auto revert files on change
#+BEGIN_SRC emacs-lisp
(global-auto-revert-mode t)

#+END_SRC
** Enable narrowing of buffers 
#+BEGIN_SRC emacs-lisp
 (put 'narrow-to-region 'disabled nil) 

#+END_SRC
** Use shift+arrow to change windows
#+BEGIN_SRC emacs-lisp
;;(when (fboundp 'windmove-default-keybindings)
;;  (windmove-default-keybindings))

#+END_SRC 
** backup files 

   #+BEGIN_SRC emacs-lisp
;
; diable making backup files 
(setq make-backup-files nil)

   #+END_SRC 
  
* EVIL 
END PART
enable  evil package
this file needs to go in the END
so that evil can DETECT all other packages
and load key-bindings accordingly :-)

  #+BEGIN_SRC emacs-lisp
(require 'evil)
(evil-mode 1)
    #+END_SRC


