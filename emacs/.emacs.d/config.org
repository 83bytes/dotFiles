* Gui modifications
** Line and Coulmn Numbering

#+BEGIN_SRC emacs-lisp
;; enable relative line numbering and column numbering
(linum-relative-global-mode 1)
(setq linum-relative-current-symbol "")
(column-number-mode 1)
#+END_SRC

** Powerline 

#+BEGIN_SRC emacs-lisp
;; enable global visual line mo
(global-visual-line-mode t)

;; use powerline
(use-package powerline
	     :ensure t)

#+END_SRC

** Toolbars

#+BEGIN_SRC emacs-lisp
;; disable toolbar
(tool-bar-mode -1)

;; disable menubar
(menu-bar-mode -1)

;; disable scroll-bar
(scroll-bar-mode -1)

#+END_SRC

** C/C++ style 

#+BEGIN_SRC emacs-lisp
;; set c/c++ default indent to 8
(setq c-default-style "linux")
#+END_SRC

** Splash Screen

#+BEGIN_SRC emacs-lisp
  ;; stop the splash screen in
  (setq inhibit-splash-screen t)
#+END_SRC

** TABS 

#+BEGIN_SRC emacs-lisp
;; tab-width

(setq-default indent-tabs-mode nil)
(setq tab-width 4)
#+END_SRC

** Parens

#+BEGIN_SRC emacs-lisp
;; SMART PARENS ;;;;
(smartparens-global-mode 1)
(add-hook 'smartparens-enabled-hook #'evil-smartparens-mode)
(show-paren-mode t)
(setq show-paren-style 'expression)
(set-face-attribute 'show-paren-match-expression nil 
		    :background "dark cyan")

#+END_SRC

* Packages
** HELM

#+BEGIN_SRC emacs-lisp

;; enabling async
(add-to-list 'load-path "/home/sohom/.emacs.d/packages/async")

;; enabling the helm package
(add-to-list 'load-path "/home/sohom/.emacs.d/packages/helm")
(require 'helm-config)

;; this will run the helm version of every command typed mith M-x
(global-set-key (kbd "M-x") #'helm-M-x)
(global-set-key (kbd "C-x C-f")  #'helm-find-files)
(global-set-key (kbd "C-x b") #'helm-mini)

(helm-mode 1)

#+END_SRC

** org mode

#+BEGIN_SRC emacs-lisp

(require 'org)

;; set a time-stamp when todo state changes
(setq org-log-done 'time)

;; set a time for repeating tasks
(setq org-log-repeat 'time)

;; added custom states for todo list
(setq org-todo-keywords '((sequence "TODO(t)" "|" "DONE(d)")
			  (sequence "|" "CANCEL(c)")
			  (sequence "|" "SKIP(k)")
                          (sequence "STARTED(s)" "|")
                          (sequence "WAITING(w)" "|" )))

;; added color for custom states
(setq org-todo-keyword-faces
      (quote (("CANCEL" :foreground "red" :weight bold)
              ("SKIP" :foreground "blue" :weight bold)
	      ("DONE" :foreground "green" :weight bold)
	      ("WAITING" :foreground "yellow")
              ("STARTED" :foreground "orange" :weight bold))))


;; do a separate add-to-list to add new file extentions
;; put default mode for specific files
(add-to-list 'auto-mode-alist
	     '("\\.note" . org-mode))


;; default directory to save org mode capture files
(setq org-directory "/home/sohom/work_space/.personal/todo/")
(setq org-default-notes-file (concat org-directory "/TODO.org"))
(define-key global-map "\C-cc" 'org-capture)

(setq org-capture-templates
 '(("t" "Todo" entry (file+headline "~/work_space/.personal/todo/TODO.org" "TASKS")
        "* TODO %?\n  %i\n  %a")
   ("b" "Blog" entry (file+headline "~/work_space/.personal/todo/TODO.org" "BLOG")
	"* TODO %?\n  %i\n  %a")
   ("p" "Project" entry (file+headline "~/work_space/.personal/todo/TODO.org" "PROJECTS")
	"* TODO %?\n  %i\n  %a")))


;; TODO file
(global-set-key (kbd "<f6>") (lambda() (interactive)(find-file "/home/sohom/work_space/.personal/todo/TODO.org")))


;; agenda file 
(add-to-list 'org-agenda-files "/home/sohom/work_space/.personal/todo/TODO.org")
(global-set-key "\C-ca" 'org-agenda)
(setq org-agenda-use-time-grid t)

;; tags

(setq org-tag-alist '(("work" . ?w)
		      ("study" . ?s)
                      ("fsmk" . ?f)
		      ("family" . ?y)))

;; org refile
(custom-set-variables '(org-refile-targets (quote (("todoArchive.org" :maxlevel . 1)))))
#+END_SRC


*** ORG Capture Globally

#+BEGIN_SRC emacs-lisp
(defadvice org-capture-finalize
  (after delete-capture-frame activate)
   "Advise capture-finalize to close the frame"
   (if (equal "capture" (frame-parameter nil 'name))
       (delete-frame)))

(defadvice org-capture-destroy
 (after delete-capture-frame activate)
  "Advise capture-destroy to close the frame"
  (if (equal "capture" (frame-parameter nil 'name))
      (delete-frame)))

 ;; make the frame contain a single window. by default org-capture
 ;; splits the window
(add-hook 'org-capture-mode-hook
          'delete-other-windows)

 (defun make-capture-frame ()
   "Create a new frame and run org-capture."
   (interactive)
   (make-frame '((name . "capture")
                 (width . 120)
                 (height . 15)))
   (select-frame-by-name "capture")
   (setq word-wrap 1)
   (setq truncate-lines nil)
   (org-capture))
#+END_SRC

#+RESULTS:
: make-capture-frame

** Elpy
#+BEGIN_SRC emacs-lisp
(elpy-enable)
#+END_SRC
** server mode
#+BEGIN_SRC emacs-lisp
;;server mode start
(server-mode 1)
#+END_SRC

** Anzu
#+BEGIN_SRC emacs-lisp

(require 'anzu)
(global-anzu-mode +1)

(set-face-attribute 'anzu-mode-line nil
                    :foreground "yellow" :weight 'bold)

(custom-set-variables
 '(anzu-mode-lighter "")
 '(anzu-deactivate-region t)
 '(anzu-search-threshold 1000)
 '(anzu-replace-threshold 50)
 '(anzu-replace-to-string-separator " => "))


(global-set-key (kbd "M-%") 'anzu-query-replace)
(global-set-key (kbd "C-M-%") 'anzu-query-replace-regexp)

#+END_SRC

** Latex
#+BEGIN_SRC emacs-lisp

;; bigger latex fragment
(plist-put org-format-latex-options :scale 2.0)

(setq org-export-with-email t)

#+END_SRC
** magit
#+BEGIN_SRC emacs-lisp

(global-set-key (kbd "C-x g") #'magit-status)

#+END_SRC
** Company 

#+BEGIN_SRC emacs-lisp
(add-hook 'after-init-hook 'global-company-mode)
#+END_SRC
   
** Markdown Mode

#+BEGIN_SRC emacs-lisp
(use-package markdown-mode
  :ensure t
  :commands (markdown-mode gfm-mode)
  :mode (("README\\.md\\'" . gfm-mode)
         ("\\.md\\'" . markdown-mode)
         ("\\.markdown\\'" . markdown-mode))
  :init
  (setq markdown-command "markdown_py"))
#+END_SRC

** Babel
#+BEGIN_SRC emacs-lisp
(org-babel-do-load-languages
 'org-babel-load-languages
 '((ruby . t)
   (scheme . t)
   (python . t)
   ))

#+END_SRC

* MISC 
** backup files 

#+BEGIN_SRC emacs-lisp
;
; diable making backup files 
(setq make-backup-files nil)

#+END_SRC 
  
* EVIL 
#+BEGIN_SRC emacs-lisp
;; END PART
;; enable  evil package
;; this file needs to go in the END
;; so that evil can DETECT all other packages
;; and load key-bindings accordingly :-)
(require 'evil)
(evil-mode 1)
#+END_SRC
